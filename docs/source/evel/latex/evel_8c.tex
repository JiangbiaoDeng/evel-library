\hypertarget{evel_8c}{}\section{evel.\+c File Reference}
\label{evel_8c}\index{evel.\+c@{evel.\+c}}


Source module isolating the E\+C\+O\+M\+P Vendor Event Listener (E\+V\+E\+L) A\+P\+I.  


{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$assert.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$sys/time.\+h$>$}\\*
{\ttfamily \#include $<$curl/curl.\+h$>$}\\*
{\ttfamily \#include \char`\"{}evel.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}evel\+\_\+internal.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}metadata.\+h\char`\"{}}\\*
Include dependency graph for evel.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{evel_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{evel_8h_ae1f68b0d21fb98defcec46e99208a03e}{E\+V\+E\+L\+\_\+\+E\+R\+R\+\_\+\+C\+O\+D\+E\+S} \hyperlink{evel_8c_aff020c5505e724b414ac981e2a23fcd6}{evel\+\_\+initialize} (const char const $\ast$fqdn, int port, const char const $\ast$path, const char const $\ast$topic, int secure, const char const $\ast$username, const char const $\ast$password, \hyperlink{evel_8h_a304eae0d024005dc4c7031bdd774d64a}{E\+V\+E\+L\+\_\+\+S\+O\+U\+R\+C\+E\+\_\+\+T\+Y\+P\+E\+S} source\+\_\+type, const char const $\ast$role, int verbosity)
\begin{DoxyCompactList}\small\item\em Library initialization. \end{DoxyCompactList}\item 
\hyperlink{evel_8h_ae1f68b0d21fb98defcec46e99208a03e}{E\+V\+E\+L\+\_\+\+E\+R\+R\+\_\+\+C\+O\+D\+E\+S} \hyperlink{evel_8c_ab3f6225ddb9c5113d74503d4fcd17e5b}{evel\+\_\+terminate} (void)
\begin{DoxyCompactList}\small\item\em Clean up the E\+V\+E\+L library. \end{DoxyCompactList}\item 
void \hyperlink{evel_8c_a91faa4e06c4b079c2a8a1db1ccb2e47b}{evel\+\_\+free\+\_\+event} (void $\ast$event)
\begin{DoxyCompactList}\small\item\em Free an event. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{evel_8h_a304eae0d024005dc4c7031bdd774d64a}{E\+V\+E\+L\+\_\+\+S\+O\+U\+R\+C\+E\+\_\+\+T\+Y\+P\+E\+S} \hyperlink{evel_8c_a329013711111023074c1c7c4549fbb07}{event\+\_\+source\+\_\+type} = \hyperlink{evel_8h_a304eae0d024005dc4c7031bdd774d64aadc8b7b3ef026dad722708d17d5c4e466}{E\+V\+E\+L\+\_\+\+S\+O\+U\+R\+C\+E\+\_\+\+O\+T\+H\+E\+R}
\begin{DoxyCompactList}\small\item\em The type of equipment represented by this V\+N\+F. \end{DoxyCompactList}\item 
char $\ast$ \hyperlink{evel_8c_a756c78785c456a8b6deeec4849e203d5}{functional\+\_\+role} = N\+U\+L\+L
\begin{DoxyCompactList}\small\item\em The Functional Role of the equipment represented by this V\+N\+F. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Source module isolating the E\+C\+O\+M\+P Vendor Event Listener (E\+V\+E\+L) A\+P\+I. 

This file implements the E\+V\+E\+L library which is intended to provide a simple wrapper around the complexity of A\+T\&T\textquotesingle{}s Vendor Event Listener A\+P\+I so that V\+N\+Fs can use it without worrying about details of\+:


\begin{DoxyItemize}
\item The A\+P\+I\textquotesingle{}s encoding into J\+S\+O\+N.
\item The A\+P\+I\textquotesingle{}s transport over H\+T\+T\+P/\+H\+T\+T\+P\+S.
\end{DoxyItemize}

\subsubsection*{License }

Copyright(c) $<$2016$>$, A\+T\&T Intellectual Property. All other rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met\+:


\begin{DoxyEnumerate}
\item Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
\item Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
\item All advertising materials mentioning features or use of this software must display the following acknowledgement\+: This product includes software developed by the A\+T\&T.
\item Neither the name of A\+T\&T nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.
\end{DoxyEnumerate}

T\+H\+I\+S S\+O\+F\+T\+W\+A\+R\+E I\+S P\+R\+O\+V\+I\+D\+E\+D B\+Y A\+T\&T I\+N\+T\+E\+L\+L\+E\+C\+T\+U\+A\+L P\+R\+O\+P\+E\+R\+T\+Y \textquotesingle{}\textquotesingle{}A\+S I\+S\textquotesingle{}\textquotesingle{} A\+N\+D A\+N\+Y E\+X\+P\+R\+E\+S\+S O\+R I\+M\+P\+L\+I\+E\+D W\+A\+R\+R\+A\+N\+T\+I\+E\+S, I\+N\+C\+L\+U\+D\+I\+N\+G, B\+U\+T N\+O\+T L\+I\+M\+I\+T\+E\+D T\+O, T\+H\+E I\+M\+P\+L\+I\+E\+D W\+A\+R\+R\+A\+N\+T\+I\+E\+S O\+F M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+T\+Y A\+N\+D F\+I\+T\+N\+E\+S\+S F\+O\+R A P\+A\+R\+T\+I\+C\+U\+L\+A\+R P\+U\+R\+P\+O\+S\+E A\+R\+E D\+I\+S\+C\+L\+A\+I\+M\+E\+D. I\+N N\+O E\+V\+E\+N\+T S\+H\+A\+L\+L A\+T\&T I\+N\+T\+E\+L\+L\+E\+C\+T\+U\+A\+L P\+R\+O\+P\+E\+R\+T\+Y B\+E L\+I\+A\+B\+L\+E F\+O\+R A\+N\+Y D\+I\+R\+E\+C\+T, I\+N\+D\+I\+R\+E\+C\+T, I\+N\+C\+I\+D\+E\+N\+T\+A\+L, S\+P\+E\+C\+I\+A\+L, E\+X\+E\+M\+P\+L\+A\+R\+Y, O\+R C\+O\+N\+S\+E\+Q\+U\+E\+N\+T\+I\+A\+L D\+A\+M\+A\+G\+E\+S (I\+N\+C\+L\+U\+D\+I\+N\+G, B\+U\+T N\+O\+T L\+I\+M\+I\+T\+E\+D T\+O, P\+R\+O\+C\+U\+R\+E\+M\+E\+N\+T O\+F S\+U\+B\+S\+T\+I\+T\+U\+T\+E G\+O\+O\+D\+S O\+R S\+E\+R\+V\+I\+C\+E\+S; L\+O\+S\+S O\+F U\+S\+E, D\+A\+T\+A, O\+R P\+R\+O\+F\+I\+T\+S; O\+R B\+U\+S\+I\+N\+E\+S\+S I\+N\+T\+E\+R\+R\+U\+P\+T\+I\+O\+N) H\+O\+W\+E\+V\+E\+R C\+A\+U\+S\+E\+D A\+N\+D O\+N A\+N\+Y T\+H\+E\+O\+R\+Y O\+F L\+I\+A\+B\+I\+L\+I\+T\+Y, W\+H\+E\+T\+H\+E\+R I\+N C\+O\+N\+T\+R\+A\+C\+T, S\+T\+R\+I\+C\+T L\+I\+A\+B\+I\+L\+I\+T\+Y, O\+R T\+O\+R\+T (I\+N\+C\+L\+U\+D\+I\+N\+G N\+E\+G\+L\+I\+G\+E\+N\+C\+E O\+R O\+T\+H\+E\+R\+W\+I\+S\+E) A\+R\+I\+S\+I\+N\+G I\+N A\+N\+Y W\+A\+Y O\+U\+T O\+F T\+H\+E U\+S\+E O\+F T\+H\+I\+S S\+O\+F\+T\+W\+A\+R\+E, E\+V\+E\+N I\+F A\+D\+V\+I\+S\+E\+D O\+F T\+H\+E P\+O\+S\+S\+I\+B\+I\+L\+I\+T\+Y O\+F S\+U\+C\+H D\+A\+M\+A\+G\+E. 

\subsection{Function Documentation}
\hypertarget{evel_8c_a91faa4e06c4b079c2a8a1db1ccb2e47b}{}\index{evel.\+c@{evel.\+c}!evel\+\_\+free\+\_\+event@{evel\+\_\+free\+\_\+event}}
\index{evel\+\_\+free\+\_\+event@{evel\+\_\+free\+\_\+event}!evel.\+c@{evel.\+c}}
\subsubsection[{evel\+\_\+free\+\_\+event(void $\ast$event)}]{\setlength{\rightskip}{0pt plus 5cm}void evel\+\_\+free\+\_\+event (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{event}
\end{DoxyParamCaption}
)}\label{evel_8c_a91faa4e06c4b079c2a8a1db1ccb2e47b}


Free an event. 

Free off the event supplied. Will recursively free all the contained allocated memory.

\begin{DoxyNote}{Note}
It is safe to free a N\+U\+L\+L pointer. 
\end{DoxyNote}


Definition at line 233 of file evel.\+c.

\hypertarget{evel_8c_aff020c5505e724b414ac981e2a23fcd6}{}\index{evel.\+c@{evel.\+c}!evel\+\_\+initialize@{evel\+\_\+initialize}}
\index{evel\+\_\+initialize@{evel\+\_\+initialize}!evel.\+c@{evel.\+c}}
\subsubsection[{evel\+\_\+initialize(const char const $\ast$fqdn, int port, const char const $\ast$path, const char const $\ast$topic, int secure, const char const $\ast$username, const char const $\ast$password, E\+V\+E\+L\+\_\+\+S\+O\+U\+R\+C\+E\+\_\+\+T\+Y\+P\+E\+S source\+\_\+type, const char const $\ast$role, int verbosity)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf E\+V\+E\+L\+\_\+\+E\+R\+R\+\_\+\+C\+O\+D\+E\+S} evel\+\_\+initialize (
\begin{DoxyParamCaption}
\item[{const char const $\ast$}]{fqdn, }
\item[{int}]{port, }
\item[{const char const $\ast$}]{path, }
\item[{const char const $\ast$}]{topic, }
\item[{int}]{secure, }
\item[{const char const $\ast$}]{username, }
\item[{const char const $\ast$}]{password, }
\item[{{\bf E\+V\+E\+L\+\_\+\+S\+O\+U\+R\+C\+E\+\_\+\+T\+Y\+P\+E\+S}}]{source\+\_\+type, }
\item[{const char const $\ast$}]{role, }
\item[{int}]{verbosity}
\end{DoxyParamCaption}
)}\label{evel_8c_aff020c5505e724b414ac981e2a23fcd6}


Library initialization. 

Initialize the E\+V\+E\+L library.

\begin{DoxyNote}{Note}
This function initializes the c\+U\+R\+L library. Applications making use of libcurl may need to pull the initialization out of here. Note also that this function is not threadsafe as a result -\/ refer to libcurl\textquotesingle{}s A\+P\+I documentation for relevant warnings.
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
Matching Term function.
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em fqdn} & The A\+P\+I\textquotesingle{}s F\+Q\+D\+N or I\+P address. \\
\hline
{\em port} & The A\+P\+I\textquotesingle{}s port. \\
\hline
{\em path} & The optional path (may be N\+U\+L\+L). \\
\hline
{\em topic} & The optional topic part of the U\+R\+L (may be N\+U\+L\+L). \\
\hline
{\em secure} & Whether to use H\+T\+T\+P\+S (0=H\+T\+T\+P, 1=H\+T\+T\+P\+S) \\
\hline
{\em username} & Username for Basic Authentication of requests. \\
\hline
{\em password} & Password for Basic Authentication of requests. \\
\hline
{\em source\+\_\+type} & The kind of node we represent. \\
\hline
{\em role} & The role this node undertakes. \\
\hline
{\em verbosity} & 0 for normal operation, positive values for chattier logs.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em E\+V\+E\+L\+\_\+\+S\+U\+C\+C\+E\+S\+S} & On success \\
\hline
{\em \hyperlink{evel_8h_ae1f68b0d21fb98defcec46e99208a03e}{E\+V\+E\+L\+\_\+\+E\+R\+R\+\_\+\+C\+O\+D\+E\+S}} & On failure. \\
\hline
\end{DoxyRetVals}


Definition at line 93 of file evel.\+c.

\hypertarget{evel_8c_ab3f6225ddb9c5113d74503d4fcd17e5b}{}\index{evel.\+c@{evel.\+c}!evel\+\_\+terminate@{evel\+\_\+terminate}}
\index{evel\+\_\+terminate@{evel\+\_\+terminate}!evel.\+c@{evel.\+c}}
\subsubsection[{evel\+\_\+terminate(void)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf E\+V\+E\+L\+\_\+\+E\+R\+R\+\_\+\+C\+O\+D\+E\+S} evel\+\_\+terminate (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{evel_8c_ab3f6225ddb9c5113d74503d4fcd17e5b}


Clean up the E\+V\+E\+L library. 

\begin{DoxyNote}{Note}
that at present don\textquotesingle{}t expect Init/\+Term cycling not to leak memory!
\end{DoxyNote}
\begin{DoxyReturn}{Returns}
Status code 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em E\+V\+E\+L\+\_\+\+S\+U\+C\+C\+E\+S\+S} & On success \\
\hline
{\em One of \+::\+E\+V\+E\+L\+\_\+\+E\+R\+R\+\_\+\+C\+O\+D\+E\+S} & On failure. \\
\hline
\end{DoxyRetVals}


Definition at line 198 of file evel.\+c.



\subsection{Variable Documentation}
\hypertarget{evel_8c_a329013711111023074c1c7c4549fbb07}{}\index{evel.\+c@{evel.\+c}!event\+\_\+source\+\_\+type@{event\+\_\+source\+\_\+type}}
\index{event\+\_\+source\+\_\+type@{event\+\_\+source\+\_\+type}!evel.\+c@{evel.\+c}}
\subsubsection[{event\+\_\+source\+\_\+type}]{\setlength{\rightskip}{0pt plus 5cm}{\bf E\+V\+E\+L\+\_\+\+S\+O\+U\+R\+C\+E\+\_\+\+T\+Y\+P\+E\+S} event\+\_\+source\+\_\+type = {\bf E\+V\+E\+L\+\_\+\+S\+O\+U\+R\+C\+E\+\_\+\+O\+T\+H\+E\+R}}\label{evel_8c_a329013711111023074c1c7c4549fbb07}


The type of equipment represented by this V\+N\+F. 



Definition at line 57 of file evel.\+c.

\hypertarget{evel_8c_a756c78785c456a8b6deeec4849e203d5}{}\index{evel.\+c@{evel.\+c}!functional\+\_\+role@{functional\+\_\+role}}
\index{functional\+\_\+role@{functional\+\_\+role}!evel.\+c@{evel.\+c}}
\subsubsection[{functional\+\_\+role}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ functional\+\_\+role = N\+U\+L\+L}\label{evel_8c_a756c78785c456a8b6deeec4849e203d5}


The Functional Role of the equipment represented by this V\+N\+F. 



Definition at line 62 of file evel.\+c.

